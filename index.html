<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>LvChongStudio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="LvChongStudio">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="LvChongStudio">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LvChongStudio">
  
    <link rel="alternate" href="/atom.xml" title="LvChongStudio" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">LvChongStudio</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-2018012304_RasaNlu" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/01/23/2018012304_RasaNlu/" class="article-date">
  <time datetime="2018-01-23T14:44:05.232Z" itemprop="datePublished">2018-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/23/2018012304_RasaNlu/">Rasa NLU 聊天机器人自然语言理解</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Rasa-NLU"><a href="#Rasa-NLU" class="headerlink" title="Rasa NLU"></a>Rasa NLU</h1><p>RasaCore 是一个自然语言理解框架。<a href="https://nlu.rasa.ai" title="官方文档点击这里（英语）" target="_blank" rel="noopener">https://nlu.rasa.ai</a>，下文将对基本流程及使用方式以及部分原理进行描述，本文来自<a href="http://lvchongstudio.top/" target="_blank" rel="noopener">http://lvchongstudio.top/</a>。</p>
<h2 id="Rasa-Nlu-工作原理"><a href="#Rasa-Nlu-工作原理" class="headerlink" title="Rasa Nlu 工作原理"></a>Rasa Nlu 工作原理</h2><p>智能机器人是人工智能一个重大分支，只能机器人包括几大模块：自然语言识别（ASR）、自然语言处理（NLU）、对话流程(DM)、自然语言生成（TTS），目前自己的工作涉及的方面主要是 NLU 与 DM，本文主要写一下NLU，即Rasa NLU。关于对话流程见另一篇博文。</p>
<p>具体流程：</p>
<ul>
<li>编写一个文件 intent.md 用来存放语料（需要根据意图，进行语料扩展）</li>
<li>接下来就是用上面的个文件，训练出 Rasa NLU 的模型。</li>
<li>最后，这就到最后了，使用Rasa NLU 的模型就可以开启服务。</li>
<li>哦，这才是最后，现在就可以测试问题具体的识别准确率了，以及参数的提取准确度。</li>
</ul>
<p>看完自己写的工作原理，发现真的很简练，哈哈，根本不能上手使用。总要写的完全一些，深入一些的。</p>
<h2 id="Rasa-NLU-项目使用方法"><a href="#Rasa-NLU-项目使用方法" class="headerlink" title="Rasa NLU 项目使用方法"></a>Rasa NLU 项目使用方法</h2><p>github 上面搜索 Rasa_NLU，具体安装方式参见项目介绍。建议将整个项目源码拉下来，在项目的根目录运行</p>
<pre><code>python setup.py install
</code></pre><p>进行安装。Rasa Nlu 同理。可以先根据项目里自带的example进行训练运行。具体运行方式见项目及Demo中的Makefile。</p>
<h2 id="Rasa-NLU-深入了解"><a href="#Rasa-NLU-深入了解" class="headerlink" title="Rasa NLU 深入了解"></a>Rasa NLU 深入了解</h2><p>NLU 的难点主要在语料的准备， 接下来就自己了解到的经验进行一一记录。</p>
<ul>
<li>每个意图要有关键字，意图中的每句都要有关键字。</li>
<li>每个关键字要扩充20左右的语句。</li>
<li>所有语句之间要够发散、离散（即除关键字外尽量不用重复的词语）。</li>
<li>除关键字之外，所有的词字，在每个意图中重复率要低、要低，最好不重复。</li>
<li>整个文件中，除关键字之外，所有的词字，重复率要低、要低，最好不重复。</li>
<li>上面两条造成的现象就是,你我他啊是的吗之类的词都要去掉（语义可以稍微不通顺，可接受）。</li>
<li>句式相同，参数不同的意图进行合并，通过后期校验参数进行分辨。</li>
</ul>
<p>意图识别的准确度跟两方面有关</p>
<ul>
<li>关键字在当前意图中出现的频率</li>
<li>关键字在整个文件中出现的频率</li>
</ul>
<p>有什么错误欢迎指出，其他的具体问题也可以在评论中留言。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/01/23/2018012304_RasaNlu/" data-id="cjcrsnfcw0009a0221k0i38a1" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2018012303_RasaCore" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/01/23/2018012303_RasaCore/" class="article-date">
  <time datetime="2018-01-23T13:50:01.813Z" itemprop="datePublished">2018-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/23/2018012303_RasaCore/">Rasa Core 聊天机器人对话管理</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Rasa-Core"><a href="#Rasa-Core" class="headerlink" title="Rasa Core"></a>Rasa Core</h1><p>RasaCore 是一个用来处理对话流程的框架。<a href="https://core.rasa.ai/" title="官方文档点击这里（英语）" target="_blank" rel="noopener">https://core.rasa.ai/</a>，下文将对基本流程及使用方式以及部分原理进行描述，本文来自<a href="http://lvchongstudio.top/" target="_blank" rel="noopener">http://lvchongstudio.top/</a>。</p>
<h2 id="Rasa-Core-工作原理"><a href="#Rasa-Core-工作原理" class="headerlink" title="Rasa Core 工作原理"></a>Rasa Core 工作原理</h2><p>智能机器人是人工智能一个重大分支，只能机器人包括几大模块：自然语言识别（ASR）、自然语言处理（NLU）、对话管理(DM)、自然语言生成（TTS），目前自己的工作涉及的方面主要是 NLU 与 DM，本文主要写一下DM，即Rasa Core，关于 NLU 在另一篇博客记录。</p>
<p>具体流程：</p>
<ul>
<li>从Rasa Nlu或其他自然语言理解框架，获取训练好的意图识别模型。（这个主要是用来识别用户要问什么，即细分出用户的当前一句话的意图）</li>
<li>编写一个文件 domain.yml 用来放置所有的意图名字、 所有用来回答的意图的名字 和 每个回答意图的回答语句（这个主要是用来声明这个项目支持用户问哪类问题，声明能做出哪种回答， 以及部分不涉及逻辑，可以直接回答的问题）</li>
<li>编写另一个文件 stories.md 见名知意，这里用来存放剧本。（以简单的格式将上一个文件的问题与回答建立关系形成各种剧本）</li>
<li>接下来就是用上面的两个文件，训练出 Rasa Core 的模型。</li>
<li>最后，这就到最后了，使用Rasa Nlu 的模型、 Rasa Core 的模型，这两个模型就可以开启服务。</li>
<li>哦，这才是最后，现在就可以根据剧本做一些问答了。</li>
</ul>
<p>看完自己写的工作原理，发现真的很简练，哈哈，根本不能上手使用。总要写的完全一些，深入一些的。</p>
<h2 id="Rasa-Core-项目使用方法"><a href="#Rasa-Core-项目使用方法" class="headerlink" title="Rasa Core 项目使用方法"></a>Rasa Core 项目使用方法</h2><p>github 上面搜索 Rasa_Core，具体安装方式参见项目介绍。建议将整个项目源码拉下来，在项目的根目录运行</p>
<pre><code>python setup.py install
</code></pre><p>进行安装。Rasa Nlu 同理。可以先根据项目里自带的example进行训练运行。具体运行方式见项目及Demo中的Makefile。</p>
<h2 id="Rasa-Core-深入了解"><a href="#Rasa-Core-深入了解" class="headerlink" title="Rasa Core 深入了解"></a>Rasa Core 深入了解</h2><ul>
<li>NLU 问题中提取出的参数可以在回答中以类似如下例句形式出现。（“我没听过{news}，最近没有了解过新闻。”）</li>
<li>涉及到逻辑的回答可以在代码中很简单的实现，实现方式见官方文档。</li>
<li>以上两种为回答的形式，并支持回复多媒体（即音视频、图片、gif等），支持同时回复多条。</li>
</ul>
<p>有什么错误欢迎指出，其他的具体问题也可以在评论中留言。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/01/23/2018012303_RasaCore/" data-id="cjcrsnfcv0008a022em96irgm" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2018012302_Linux" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/01/23/2018012302_Linux/" class="article-date">
  <time datetime="2018-01-23T13:24:09.402Z" itemprop="datePublished">2018-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/23/2018012302_Linux/">Linux项目使用笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>常用命令记录<br>scp</p>
<p>ssh -i </p>
<p>sudo su -</p>
<p>cd</p>
<p>ll</p>
<p>ls</p>
<p>cp -i fromFile toFile</p>
<p>nohup ….. &amp;</p>
<p>tail -f </p>
<p>fg</p>
<p>ctrl + z</p>
<p>bg</p>
<p>~/.bashrc</p>
<p>resource ~/.bashrc</p>
<p>cat file</p>
<p>tac file</p>
<p>vim file</p>
<p>ps -au</p>
<p>netstat -apn</p>
<p>netstat -apn | grep 8080</p>
<p>kill 31434</p>
<p>mkdir </p>
<p>rm -f file</p>
<p>exit</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/01/23/2018012302_Linux/" data-id="cjcrsnfct0006a0226k8of1ip" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2018012301_Vim" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/01/23/2018012301_Vim/" class="article-date">
  <time datetime="2018-01-23T12:32:55.847Z" itemprop="datePublished">2018-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/23/2018012301_Vim/">Vim 编辑器使用笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Vim 是 UNIX 文本编辑器 Vi 的加强版本</p>
<p>常用命令记录</p>
<p>k    上    ↑</p>
<p>j    下    ↓</p>
<p>h    左    ←</p>
<p>l    右    →</p>
<p>v    选中</p>
<p>y    复制</p>
<p>p    粘贴</p>
<p>:q    退出</p>
<p>:q!    退出不保存</p>
<p>:wq    保存退出</p>
<p>ZZ    保存退出</p>
<p>set number    设置显示行数</p>
<p>/    搜索</p>
<p>:h    帮助</p>
<p>w    光标至下一个单词</p>
<p>e    光标至单词结尾</p>
<p>d    删除</p>
<p>b    上一个单词</p>
<p>u    撤销</p>
<p>i    插入</p>
<p>a    追加</p>
<p>q  r t  o<br> s  f g<br>z x c  n m</p>
<p>以上内容为自己笔记</p>
<p>以下内容转自<a href="http://blog.sina.com.cn/s/blog_4d4afb6d0101cydc.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_4d4afb6d0101cydc.html</a><br><img src="http://s4.sinaimg.cn/mw690/4d4afb6d4e1a1e5816273&amp;690" alt=""></p>
<p><img src="http://s6.sinaimg.cn/mw690/4d4afb6d4e1a1e582ad15&amp;690" alt=""></p>
<p>Vim 替换命令汇总<br>vi/vim 中可以使用 :s 命令来替换字符串。以前只会使用一种格式来全文替换，今天发现该命令有很多种写法(vi 真是强大啊，还有很多需要学习)，记录几种在此，方便以后查询。<br>　　vi/vim 中可以使用 :s 命令来替换字符串。以前只会使用一种格式来全文替换，今天发现该命令有很多种写法(vi 真是强大啊，还有很多需要学习)，记录几种在此，方便以后查询。<br>　　:s/vivian/sky/ 替换当前行第一个 vivian 为 sky<br>　　:s/vivian/sky/g 替换当前行所有 vivian 为 sky<br>　　:n,$s/vivian/sky/ 替换第 n 行开始到最后一行中每一行的第一个 vivian 为 sky<br>　　:n,$s/vivian/sky/g 替换第 n 行开始到最后一行中每一行所有 vivian 为 sky<br>　　n 为数字，若 n 为 .，表示从当前行开始到最后一行<br>　　:%s/vivian/sky/(等同于 :g/vivian/s//sky/) 替换每一行的第一个 vivian 为 sky<br>　　:%s/vivian/sky/g(等同于 :g/vivian/s//sky/g) 替换每一行中所有 vivian 为 sky<br>　　可以使用 # 作为分隔符，此时中间出现的 / 不会作为分隔符<br>　　:s#vivian/#sky/# 替换当前行第一个 vivian/ 为 sky/<br>　　:%s+/oradata/apras/+/user01/apras1+ (使用+ 来 替换 / )： /oradata/apras/替换成/user01/apras1/<br>　　<em> <strong><strong><strong><strong><strong><strong><strong><strong><em>*</em></strong></strong></strong></strong></strong></strong></strong></strong></em><br>　　1.:s/vivian/sky/ 替换当前行第一个 vivian 为 sky<br>　　:s/vivian/sky/g 替换当前行所有 vivian 为 sky<br>　　2. :n,$s/vivian/sky/ 替换第 n 行开始到最后一行中每一行的第一个 vivian 为 sky<br>　　:n,$s/vivian/sky/g 替换第 n 行开始到最后一行中每一行所有 vivian 为 sky<br>　　(n 为数字，若 n 为 .，表示从当前行开始到最后一行)<br>　　3. :%s/vivian/sky/(等同于 :g/vivian/s//sky/) 替换每一行的第一个 vivian 为 sky<br>　　:%s/vivian/sky/g(等同于 :g/vivian/s//sky/g) 替换每一行中所有 vivian 为 sky<br>　　4. 可以使用 # 作为分隔符，此时中间出现的 / 不会作为分隔符<br>　　:s#vivian/#sky/# 替换当前行第一个 vivian/ 为 sky/<br>　　5. 删除文本中的^M<br>　　问题描述：对于换行,window下用回车换行(0A0D)来表示，linux下是回车(0A)来表示。这样，将window上的文件拷到unix上用时，总会有个^M.请写个用在unix下的过滤windows文件的换行符(0D)的shell或c程序。<br>　　· 使用命令：cat filename1 | tr -d “^V^M” &gt; newfile;<br>　　· 使用命令：sed -e “s/^V^M//” filename &gt; outputfilename。需要注意的是在1、2两种方法中，^V和^M指的是Ctrl+V和Ctrl+M。你必须要手工进行输入，而不是粘贴。<br>　　· 在vi中处理：首先使用vi打开文件，然后按ESC键，接着输入命令：%s/^V^M//。<br>　　· :%s/^M$//g<br>　　如果上述方法无用，则正确的解决办法是：<br>　　· tr -d “\r” &lt; src &gt;dest<br>　　· tr -d “\015” dest<br>　　· strings A&gt;B<br>　　6. 其它<br>　　利用 :s 命令可以实现字符串的替换。具体的用法包括：<br>　　:s/str1/str2/ 用字符串 str2 替换行中首次出现的字符串 str1<br>　　:s/str1/str2/g 用字符串 str2 替换行中所有出现的字符串 str1<br>　　:.,$ s/str1/str2/g 用字符串 str2 替换正文当前行到末尾所有出现的字符串 str1<br>　　:1,$ s/str1/str2/g 用字符串 str2 替换正文中所有出现的字符串 str1<br>　　:g/str1/s//str2/g 功能同上<br>　　从上述替换命令可以看到：g 放在命令末尾，表示对搜索字符串的每次出现进行替换;不加 g，表示只对搜索<br>　　字符串的首次出现进行替换;g 放在命令开头，表示对正文中所有包含搜索字符串的行进行替换操作。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/01/23/2018012301_Vim/" data-id="cjcrsnfcu0007a0223sp6wp1r" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2017122402_LinuxBlackScreen" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/24/2017122402_LinuxBlackScreen/" class="article-date">
  <time datetime="2017-12-24T15:18:36.031Z" itemprop="datePublished">2017-12-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/24/2017122402_LinuxBlackScreen/">Ubuntu 出现黑屏问题，只有鼠标光标可移动</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>查了许多资料，需要重新装一下桌面。</p>
<p>1，在上面图片中进入系统后按ctrl+alt+f1(f1至f6都可以进入命令行，f7是退出命令行)，然后输入账号和密码。</p>
<p>2，输入命令：sudo apt-get install ubuntu-desktop，然后输入密码。</p>
<p>3，如果出现提示dpkg出现问题，需要运行：sudo dpkg –configure -a命令修复，修复完毕后继续输入第二步的命令安装ubuntu桌面。</p>
<p>4，安装完成后运行：reboot    (自己操作的时候reboot没用，根据提示信息输入  systemctl reboot -i 即可)</p>
<p>经过以上几步，我的问题解决了。</p>
<p>转自:<a href="http://www.linuxdiyf.com/linux/24839.html" target="_blank" rel="noopener">http://www.linuxdiyf.com/linux/24839.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/12/24/2017122402_LinuxBlackScreen/" data-id="cjcrsnfcz000ba0223ygjwfa4" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2017122302_Gradle_Plugin" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/23/2017122302_Gradle_Plugin/" class="article-date">
  <time datetime="2017-12-23T05:55:02.095Z" itemprop="datePublished">2017-12-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/23/2017122302_Gradle_Plugin/">Gradle学习 —— 自定义Plugin</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <pre><code>在Plugin中我们可以想Project中加入新的Task，定义configuration和property等。三种方法如下：
</code></pre><p>#（一）在build.gradle文件中直接定义Plugin</p>
<p>#（二）在当前工程中定义plugin</p>
<p>#（三）在单独项目中创建plugin</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/12/23/2017122302_Gradle_Plugin/" data-id="cjcrsnfcx000aa022qdq6rplt" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2017122301_VirtualAPK" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/23/2017122301_VirtualAPK/" class="article-date">
  <time datetime="2017-12-23T03:32:43.164Z" itemprop="datePublished">2017-12-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/23/2017122301_VirtualAPK/">插件化探索——VirtualAPK</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Getting-started-from-Github-didi-VirtualAPK"><a href="#Getting-started-from-Github-didi-VirtualAPK" class="headerlink" title="Getting started from Github:didi/VirtualAPK"></a>Getting started from Github:<a href="https://github.com/didi/VirtualAPK" target="_blank" rel="noopener">didi/VirtualAPK</a></h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/12/23/2017122301_VirtualAPK/" data-id="cjcrsnfcs0005a022rjqj9xc4" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2017122002_Singleton" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/21/2017122002_Singleton/" class="article-date">
  <time datetime="2017-12-20T16:02:21.794Z" itemprop="datePublished">2017-12-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/21/2017122002_Singleton/">设计模式 之 单例 模式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="设计模式是开发中很重要的一种思想，今天记录一下单例模式，备忘，哈哈。"><a href="#设计模式是开发中很重要的一种思想，今天记录一下单例模式，备忘，哈哈。" class="headerlink" title="设计模式是开发中很重要的一种思想，今天记录一下单例模式，备忘，哈哈。"></a>设计模式是开发中很重要的一种思想，今天记录一下单例模式，备忘，哈哈。</h1><h2 id="first-懒汉式-双重校验锁-禁止指令重排序优化"><a href="#first-懒汉式-双重校验锁-禁止指令重排序优化" class="headerlink" title="first 懒汉式 + 双重校验锁 + 禁止指令重排序优化"></a>first 懒汉式 + 双重校验锁 + 禁止指令重排序优化</h2><pre><code>public class SingletonOne {

// volatile 禁止指令重排序优化
private static volatile SingletonOne instance = null;

private SingletonOne() {

}

// synchronized 修饰的同步方法比一般的方法要慢很多。所以此处使用双重校验锁。
public static SingletonOne getInstance() {
    if (null == instance) {
        synchronized(SingletonOne.class) {
            if (null == instance) {
                instance = new SingletonOne();
            }
        }
    }
    return instance;
}}
</code></pre><h2 id="second-饿汉式-不推荐"><a href="#second-饿汉式-不推荐" class="headerlink" title="second 饿汉式 不推荐"></a>second 饿汉式 不推荐</h2><pre><code>public class SingletonTwo {

private static SingletonTwo instance = new SingletonTwo();

private SingletonTwo() {

}

public static SingletonTwo getInstance() {
    return instance;
}}
</code></pre><h2 id="third-静态内部类加载"><a href="#third-静态内部类加载" class="headerlink" title="third 静态内部类加载"></a>third 静态内部类加载</h2><pre><code>public class SingletonThree {

private SingletonThree() {

}

private static class SingletonHolder {
    public static SingletonThree instance = new  SingletonThree();
}

public static SingletonThree getInstance() {
    return SingletonHolder.instance;
}}
</code></pre><h2 id="fourth-枚举-目前最为安全的实现单例的方法是通过内部静态enum的方法来实现，因为JVM会保证enum不能被反射并且构造器方法只执行一次。"><a href="#fourth-枚举-目前最为安全的实现单例的方法是通过内部静态enum的方法来实现，因为JVM会保证enum不能被反射并且构造器方法只执行一次。" class="headerlink" title="fourth 枚举   目前最为安全的实现单例的方法是通过内部静态enum的方法来实现，因为JVM会保证enum不能被反射并且构造器方法只执行一次。"></a>fourth 枚举   目前最为安全的实现单例的方法是通过内部静态enum的方法来实现，因为JVM会保证enum不能被反射并且构造器方法只执行一次。</h2><pre><code>public class SingletonFour {
private SingletonFour() {

}

private static enum Singleton{
    INSTANCE;

    private SingletonFour instance;

    private Singleton() {
        instance = new SingletonFour();
    }

    public SingletonFour getInstance() {
        return instance;
    }

}

public static SingletonFour getInstance() {
    return Singleton.INSTANCE.instance;
}}



上面提到的三种实现单例的方式都有共同的缺点：
1.需要额外的工作来实现序列化，否则每次反序列化一个序列化的对象时都会创建一个新的实例。
2.可以使用反射强行调用私有构造器（如果要避免这种情况，可以修改构造器，让它在创建第二个实例的时候抛异常）。

而枚举类很好的解决了这两个问题，使用枚举除了线程安全和防止反射调用构造器之外，还提供了自动序列化机制，
防止反序列化的时候创建新的对象。因此，《Effective Java》作者推荐使用的方法。不过，在实际工作中，很少看见有人这么写。
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/12/21/2017122002_Singleton/" data-id="cjcrsnfcr0004a022tygam33j" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2017122001_Operate" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/20/2017122001_Operate/" class="article-date">
  <time datetime="2017-12-20T15:53:17.125Z" itemprop="datePublished">2017-12-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/20/2017122001_Operate/">Java中的 &#34; | ^ &amp; &#34; 三个运算符</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="今天面试的时候被问到了一个算法题，题目如下："><a href="#今天面试的时候被问到了一个算法题，题目如下：" class="headerlink" title="今天面试的时候被问到了一个算法题，题目如下："></a>今天面试的时候被问到了一个算法题，题目如下：</h2><p>在一个所有数字都出现偶数次的数组中，去掉其中一个数字，如何找出这个数字。</p>
<p>这道题就用到了运算符。</p>
<p>下面先简单介绍一下三个运算符，如下代码：</p>
<pre><code>private static int a = 5;        // 0101
private static int b = 11;        // 1011

private static void testAB() {
    System.out.println(a|b);    // 1111        15
    System.out.println(a^b);    // 1110        14
    System.out.println(a&amp;b);    // 0001        1
}
</code></pre><p>进行按位运算，算是复习了一下知识。</p>
<p>然后特殊的记录一下“ ^ ”的知识点：</p>
<p>自己与自己异或为0;</p>
<p>具有传递性;</p>
<p>00-&gt;0;</p>
<p>01-&gt;1;</p>
<p>11-&gt;0;</p>
<p>##现在解答一下上面提到的面试题：</p>
<pre><code>private static int result = 0;
private static int[] arrs = {1,2,1,2,6,7,8,4,121,4,5,6,7,8,5};

public static void main(String[] args) {
    getResult();
}

private static void getResult() {
    for(int i = 0; i &lt; arrs.length; i ++) {
        result ^= arrs[i];
    }
    System.out.println(result);
}
</code></pre><p>就是只用了异或运算。</p>
<h2 id="最后贴出本章的整体代码"><a href="#最后贴出本章的整体代码" class="headerlink" title="最后贴出本章的整体代码"></a>最后贴出本章的整体代码</h2><pre><code>public class TestAlgorithm {
private static int result = 0;
private static int[] arrs = {1,2,1,2,6,7,8,4,121,4,5,6,7,8,5};

public static void main(String[] args) {
    getResult();
    testAB();
}

private static void getResult() {
    for(int i = 0; i &lt; arrs.length; i ++) {
        result ^= arrs[i];
    }
    System.out.println(result);
}


private static int a = 5;        // 0101
private static int b = 11;        // 1011

private static void testAB() {
    System.out.println(a|b);    // 1111        15
    System.out.println(a^b);    // 1110        14
    System.out.println(a&amp;b);    // 0001        1
}}
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/12/20/2017122001_Operate/" data-id="cjcrsnfcq0003a022u3i2va2j" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2017121202_AboutAI" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/12/2017121202_AboutAI/" class="article-date">
  <time datetime="2017-12-12T14:52:22.098Z" itemprop="datePublished">2017-12-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/12/2017121202_AboutAI/">About AI</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>voice -&gt; ASR -&gt; text -&gt; (NLU | NLP) -&gt; DC -&gt; DM -&gt; text -&gt; TTS -&gt; voice</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/12/12/2017121202_AboutAI/" data-id="cjcrsnfch0000a022lyre2902" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/01/23/2018012304_RasaNlu/">Rasa NLU 聊天机器人自然语言理解</a>
          </li>
        
          <li>
            <a href="/2018/01/23/2018012303_RasaCore/">Rasa Core 聊天机器人对话管理</a>
          </li>
        
          <li>
            <a href="/2018/01/23/2018012302_Linux/">Linux项目使用笔记</a>
          </li>
        
          <li>
            <a href="/2018/01/23/2018012301_Vim/">Vim 编辑器使用笔记</a>
          </li>
        
          <li>
            <a href="/2017/12/24/2017122402_LinuxBlackScreen/">Ubuntu 出现黑屏问题，只有鼠标光标可移动</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Lv Chong<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>